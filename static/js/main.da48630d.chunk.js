(this["webpackJsonpto-do-react"]=this["webpackJsonpto-do-react"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var o=n(1),a=n.n(o),i=n(9),r=n.n(i),c=n(2),s=n(3),l=n(4),u=n(6),d=n(5),h=n(0),p=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).state={inputValue:""},o}return Object(l.a)(n,[{key:"handleClick",value:function(t){var e=this.state.inputValue,n=this.props.onSubmit;t.preventDefault(),n(e),this.setState({inputValue:""})}},{key:"inputChanged",value:function(t){this.setState({inputValue:t.target.value})}},{key:"render",value:function(){var t=this,e=this.state.inputValue,n=this.props,o=n.placeholder,a=n.buttonLabel;return Object(h.jsxs)("form",{onSubmit:function(e){return t.handleClick(e)},children:[Object(h.jsx)("input",{type:"text",placeholder:o,onChange:function(e){return t.inputChanged(e)},value:e}),Object(h.jsx)("button",{type:"submit",children:a})]})}}]),n}(a.a.Component);p.defaultProps={placeholder:"Buy some milk",buttonLabel:"Add"};var f=p;var v=function(t){var e=t.todoItem,n=t.onCompletedChange,o=t.onDelete,a=e.completed?"completed":"";return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"checkbox",defaultChecked:e.completed,onClick:function(t){n(t.target.checked)},readOnly:!0}),Object(h.jsx)("span",{className:a,children:e.text}),Object(h.jsx)("button",{type:"submit",className:"link",onClick:o,children:"delete"})]})};var m=function(t){var e=t.todoItems,n=t.onCompletedChange,o=t.onDelete;return Object(h.jsx)("div",{children:e.map((function(t){return Object(h.jsx)(v,{todoItem:t,onCompletedChange:function(e){return n(t,e)},onDelete:function(){return o(t)}},t.id)}))})},b=(n(15),function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).state={todoItems:[]},o}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.storage;this.setState({todoItems:t.all()})}},{key:"changeCompleted",value:function(t,e){var n=this.props.storage;n.update(Object(c.a)(Object(c.a)({},t),{},{completed:e})),this.setState({todoItems:n.all()})}},{key:"addTodoItem",value:function(t){var e=this.props.storage,n={text:t,completed:!1};e.save(n),this.setState({todoItems:e.all()})}},{key:"delete",value:function(t){var e=this.props.storage;e.delete(t),this.setState({todoItems:e.all()})}},{key:"render",value:function(){var t=this,e=this.state.todoItems;return Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{todoItems:e,onCompletedChange:function(e,n){return t.changeCompleted(e,n)},onDelete:function(e){return t.delete(e)}}),Object(h.jsx)(f,{onSubmit:function(e){return t.addTodoItem(e)}})]})}}]),n}(a.a.Component)),g=n(8),j=function(){function t(e){Object(s.a)(this,t),this.storage=e}return Object(l.a)(t,[{key:"save",value:function(t){var e=this.all(),n=parseInt(this.storage.getItem("todoItemNextId"),10)||Math.max.apply(Math,[0].concat(Object(g.a)(e.map((function(t){return t.id}))))),o=[].concat(Object(g.a)(e),[Object(c.a)(Object(c.a)({completed:!1},t),{},{id:n+1})]);this.storage.setItem("todoItemNextId",n+1),this.storage.setItem("todoItems",JSON.stringify(o))}},{key:"all",value:function(){return JSON.parse(this.storage.getItem("todoItems"))||[]}},{key:"update",value:function(t){var e=this.all().map((function(e){return e.id!==t.id?e:Object(c.a)(Object(c.a)({},e),t)}));this.storage.setItem("todoItems",JSON.stringify(e))}},{key:"delete",value:function(t){var e=this.all().filter((function(e){return e.id!==t.id}));this.storage.setItem("todoItems",JSON.stringify(e))}}]),t}(),O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(b,{storage:new j(window.localStorage)})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/to-do-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/to-do-react","/service-worker.js");O?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):k(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):k(e,t)}))}}()}},[[16,1,2]]]);
//# sourceMappingURL=main.da48630d.chunk.js.map